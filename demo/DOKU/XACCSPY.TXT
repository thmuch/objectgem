"XAcc-Spy" - Der XAcc-Spion (Version 09.10.1994)
================================================

Dieses Programm ist FREEWARE, d.h. es darf und soll weitergegeben und
benutzt werden. Die Weitergabe ist gestattet, sofern die Dateien
XACCSPY.APP und XACCSPY.TXT (diese Datei) zusammen und unverÑndert
weitergegeben werden. Wird das Programm in PD-Serien aufgenommen,
auf CDs gepreût etc., mîge man sich doch bitte um die aktuellste
Version kÅmmern.

Meine Adresse: Thomas Much, Gerwigstraûe 46, 76131 Karlsruhe
               Tel. (0721) 62 28 41
               EMail: Thomas Much @ KA2
                      UK48@ibm3090.rz.uni-karlsruhe.de

Der XAcc-Spy sollte auf jeden Fall in den MÑusen KA und HL im Archiv
OGEMUTIL.ZIP zu finden sein (Achtung: Kein Gastdownload von 18 bis
21.45 Uhr).


Wozu ist XAcc-Spy gut?
----------------------
XAcc-Spy ist eine Art "XAcc-Debugger", d.h. in einem Fenster werden
alle laufenden Applikationen angezeigt, die das XAcc-(bzw. AV-)Proto-
koll unterstÅtzen. Dazu erhÑlt man alle XAcc-Parameter (s.u.), mit
denen man solche Programme recht gut einschÑtzen kann. Diese Anleitung
soll allerdings die XAcc-Doku nicht ersetzen, auf sie sei deshalb an
dieser Stelle verwiesen.


Installation und Anwendung
--------------------------
XAcc-Spy kann sowohl als Programm als auch als Accessory eingesetzt
werden. Beim Einsatz als Programm kann man Accessories auf das XAcc-
Protokoll hin untersuchen, mit dem Accessory kann man entsprechend
ein Hauptprogramm gut untersuchen.
Bei der Verwendung unter MultiTOS sollte der Programmtyp egal sein,
allerdings kann es sein, daû einige Programme noch nicht die "neue"
XAcc-Definition unterstÅtzen, so daû man evtl. ein biûchen herum-
probieren muû (s. "Debugging").
Als Tastatursteuerung kommen derzeit nur <Control>+<Q>, <Control>+
<U>, <Control>+<W> und <Control>+<*> (sowie die gÑngigen Tasten
<Return>, <Help> etc.) in Frage, ansonten muû die Maus bemÅht werden.
In dem Fenster werden alle gefundenen XAcc-Applikationen unterein-
ander angezeigt. Die Zeilen sind folgendermaûen aufgebaut:
Ganz links steht der Name der Applikation. Daneben stehen die AES-
ID und die Nummer des MenÅeintrags. Unter einem Nicht-Multitasking-
TOS kennzeichnet apID=0 das Hauptprogramm, das dann auch keinen MenÅ-
eintrag besitzen sollte (meistens wird dann meID=-1 Åbergeben).
Dann folgt die Programm-Version, die von der XAcc-Applikation be-
liebig gesetzt und kodiert werden kann. Es folgen noch die unter-
stÅtzten Message-Groups. Jeder Unterstrich kennzeichnet eine Gruppe;
wenn dort die entsprechende Zahl (von rechts nach links) eingetragen
ist, wird diese XAcc-Message-Gruppe verstanden. Links von den Gruppen
wird noch die Art des verstandenen Protokolls angezeigt (a=AV-Proto-
koll, x=XAcc-Protokoll).
Schlieûlich kînnen noch "Extended Names" vorhanden sein. Mit diesen
kann die Applikation einen maschinenlesbaren Programmtyp (normaler-
weise zwei groûe Buchstaben) sowie einen entsprechenden "Menschen-
lesbaren" Programmtyp angeben. Auûerdem kînnen "Extended Features"
gesetzt werden, die aber normalerweise nur zwischen "gut bekannten"
Programmen versendet und verstanden werden. Ganz zum Schluû folgt
noch der generische Name; dieser kann gesetzt sein, wenn das
Programm nicht Åberall den gleichen "offiziellen" Namen besitzt,
aber dennoch eindeutig erkannt werden muû.
Alle Buttons im Fenster und in der Toolbar unterstÅtzen die Bubble-
Help (Anklicken des gewÅnschten Buttons mit der _rechten_ Maus-
taste), so daû sich eine weitere ErklÑrung hier erÅbrigt.
Unter MultiTOS bzw. mit dem ICFS-Server wird auch Iconification
unterstÅtzt. In dem Icon-Fenster wird dann nur noch die Anzahl der
gefundenen XAcc-/AV-Applikationen angezeigt.


"Debugging"
-----------
Singletasking-TOS:
Wird XAcc-Spy als Programm gestartet, sollten sofort alle ge-
fundenen XAcc-Applikationen angezeigt werden; an deren Zahl
darf sich eigentlich nichts mehr Ñndern.
Beim Einsatz als Accessory ist es normal, daû sich nach jedem
Start oder Verlassen eines Hauptprogramms die Liste Ñndert,
je nachdem ob das Hauptprogramm XAcc unterstÅtzt oder nicht
(unter dem GEM-Desktop z.B. ist die Liste immer leer). Aller-
dings kann man bei einigen Accessories beobachten, daû diese
_nur_ mit dem Hauptprogramm kommunizieren und nicht (wie es die
XAcc-Definition vorsieht) auch mit den anderen Accessories...
Multitasking-TOS:
Die Liste sollte fÅr das Accessory bzw. fÅr das Programm
gleich aussehen. Unterschiede wird es nur geben, wenn andere
Programme evtl. die XAcc-Multitasking-Definition nicht kennen.
Wird ein neues XAcc-Programm oder -Accessory gestartet (oder
verlassen), reagiert der XAcc-Spy mit einem automatischen Up-
date der Liste!

Ein paar Beispiele, welche Programme was anzeigen:
ObjectGEM-Programme geben normalerweise an, daû sie die Message-
Groups 1 und 2 verstehen (meistens wird eine entsprechende An-
frage allerdings per ACC_ACK zurÅckgewiesen, siehe ObjectGEM-
Doku). Diese Applikationen sollten allgemein _keine_ Probleme
mit XAcc haben. Auûerdem verstehen ObjectGEM-Programme sowohl
das XAcc- als auch das AV-Protokoll.
Mit CAT kann man sehr schîn die "Extended Names" sehen. So
wird als Applikationstyp "DB" (fÅr Datenbank) bzw. etwas les-
barer "MausTausch-Programm" zurÅckgegeben. Leider ist die
Abmeldung beim Programmende unter MultiTOS noch nicht ganz
korrekt.
Am besten (der von mir getesteten Programme) wird das XAcc-
Protokoll von Connect beherrscht. Unter MultiTOS sieht es
wirklich toll aus, wenn die XAcc-Liste bei Programmstart und
-ende entsprechend aktualisiert wird :-)


Was man sonst noch Åber XAcc-Spy wissen sollte
----------------------------------------------
Wie man vielleicht am beiliegenden Quelltext erkennt, ist XAcc-Spy
ein ObjectGEM-Programm. Zur Programmierung wurde die neue ObjectGEM-
Version 1.20 verwendet.
Aus dem objektorientierten Ansatz ergibt sich eine fÅr ein "Diagnose"-
Programm unÅbliche Grîûe. XAcc-Spy ist allerdings nicht unbedingt zum
dauerhaften Einsatz vorgesehen, sondern eigentlich dazu, um "mal eben"
zu ÅberprÅfen, ob ein Programm das XAcc-Protokoll korrekt beherrscht.
Auûerdem ist der Quelltext recht Åbersichtlich und entsprechend ein-
fach zu warten. Und man darf nicht vergessen, daû der Spion FREEWARE
ist, weshalb er von mir auch zum Testen der neuesten ObjectGEM-
Features "miûbraucht" wird...

Schlieûlich muû ich noch darauf hinweisen, daû XAcc-Spy bei mir zwar
wunderbar lÑuft, daû ich dies aber nicht garantieren kann. Wer XAcc-
Spy einsetzt, tut dies AUF EIGENE GEFAHR. Sollte tatsÑchlich ein
Fehler auftreten und ich davon erfahren, werde ich diesen nach
Mîglichkeit eliminieren.

So, nun aber viel Spaû beim "XAcc-debuggen", auf daû mîglichst viele
"schwarze Schafe" entlarvt werden, damit sich das XAcc-Protokoll
noch besser durchsetzen kann! ;-)



Release-History
---------------
06.10.94
- die Resource-Probleme bei zwei oder mehr XAcc-Spies sind beseitigt
19.07.94
- kleinere Korrekturen und Anpassung an neue ObjectGEM-Version
19.05.94
- Mag!X-Anpassung
- Absturz mit Mag!X+Gemini endgÅltig beseitigt (war ein Gemini-Bug...)
14.04.94
- Probleme mit Winx beseitigt
- mit Mag!X+Gemini gibt es keinen Absturz mehr (noch ein PP-Bug...)
25.03.94
- komplette öberarbeitung der OberflÑche
- das AV-Protokoll wird ausgewertet
- History-Fenster zum Mitprotokollieren der empfangenen Messages
- ein Bug, durch den bei Verwendung von XAcc-Spy als Acc evtl. nicht
  alle anderen XAcc-Accs erkannten wurden, ist beseitigt
04.02.94
- die drei Bomben unter alten TOS-Versionen (bzw. die Memory Violation
  unter MultiTOS) sollten beseitigt sein (offensichtlich ein PP-Bug...)
26.01.94
- erste îffentliche Version
